{"version":3,"sources":["app.js","routes.js","newUser.factory.js","user.factory.js","website.filter.js","map.directive.js","contact/contact.controller.js","main/main.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.min.js","sourcesContent":["/**\r\n * Configure your app...\r\n */\r\n(function() {\r\n\r\n    'use strict';\r\n\r\n    /**\r\n     * All Module configured by Angular\r\n     * Configure All Modules here...\r\n     */\r\n    var app = angular.module('app', ['ngAnimate','masonry', 'angular-loading-bar', 'ui.materialize', '$window', '$rootScope', 'angularMaterializeDatePicker'])\r\n        .config(['cfpLoadingBarProvider', function(cfpLoadingBarProvider) {\r\n            cfpLoadingBarProvider.spinnerTemplate = '<div><span class=\"fa fa-spinner\">Loading...</div>';\r\n            cfpLoadingBarProvider.parentSelector = '#loading-bar-container';\r\n        }]);\r\n\r\n\r\n}());\r\n","/**\r\n * All Routing\r\n */\r\n(function() {\r\n\r\n    'use strict';\r\n\r\n    /**\r\n     * All Routing here...\r\n     * Each Route can resolve some datas before send in controller\r\n     */\r\n    angular.module('app', ['ngRoute', 'ngAnimate'])\r\n    .config(function($routeProvider) {\r\n      $routeProvider\r\n            .when('/', {\r\n                templateUrl: 'app/main/main.html',\r\n                controller: 'mainCtrl',\r\n                controllerAs: 'main', // with alias in view for ANgular StyleGuide\r\n                resolve: { // resolve Factory before display view and send by injection in controller\r\n                    users: function(UserFcty) {\r\n                        return UserFcty.all();\r\n                    }\r\n                }\r\n            })\r\n            .when('/contact', {\r\n                templateUrl: 'app/contact/contact.html',\r\n                controller: 'contactCtrl',\r\n                controllerAs: 'contact',\r\n                resolve: {\r\n                  users: function(UserFcty) {\r\n                        return UserFcty.all();\r\n                      }\r\n                }\r\n            })\n            .otherwise({redirectTo: '/'});\r\n    });\r\n\r\n\r\n}());\r\n","/**\r\n * Contact Controller\r\n */\r\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular.module('app').factory(\"dataService\", function() {\r\n      var users = [];\r\n        return {\r\n          users: users\r\n        };\r\n\r\n    \r\n      });\r\n\r\n\r\n}());\r\n","/**\r\n * Contact Controller\r\n */\r\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular.module('app').factory('UserFcty', UserFcty);\r\n\r\n    UserFcty.$inject = ['$log', '$q', '$http'];\r\n\r\n\r\n    /**\r\n     * Handler User\r\n     */\r\n    function UserFcty($log, $q, $http, contact) {\r\n\r\n\r\n        var obj = {\r\n            all: getAll,\r\n            add : addOne,\r\n            remove : removeOne,\r\n\r\n        };\r\n\r\n        return obj;\r\n\r\n\r\n        /**\r\n         * get All User\r\n         */\r\n        function getAll() {\r\n            var deferred = $q.defer();\r\n            $http.get('../../data/characteres.json')\r\n                .success(function(data) {\r\n                    deferred.resolve(data);\r\n                    $log.info('API chargée');\r\n                }).error(deferred.reject);\r\n            return deferred.promise; //return a promise with $q library (not exist in ES5)\r\n        }\r\n\r\n        // function addOne(obj) {\r\n        //             var deferred = $q.defer();\r\n        //             $http.post('../../data', obj)\r\n        //                 .success(function (data) {\r\n        //                     deferred.resolve(data);\r\n        //                 }).error(deferred.reject);\r\n        //             return deferred.promise; //return a promise with $q library (not exist in ES5)\r\n        // }\r\n        //\r\n        // function removeOne(id) {\r\n        //     var deferred = $q.defer();\r\n        //     console.log(id);\r\n        //     $http.delete(\"../../data\" + id)\r\n        //         .success(function (data) {\r\n        //             deferred.resolve(data);\r\n        //         }).error(deferred.reject);\r\n        //     return deferred.promise; //return a promise with $q library (not exist in ES5)\r\n        // }\r\n\r\n    }\r\n\r\n\r\n\r\n}());\r\n","/**\r\n * Filter\r\n */\r\n(function() {\r\n\r\n    \"use strict\";\r\n\r\n    /**\r\n     * 1ere syntaxe\r\n     * Just a filter to render HTML in view\r\n     * @returns\r\n     * */\r\n    angular.module('app').filter(\"trust\", ['$sce', function($sce) {\r\n        return function(htmlCode) {\r\n            return $sce.trustAsHtml(htmlCode);\r\n        };\r\n    }]);\r\n\r\n\r\n    /**\r\n     * 2eme syntax\r\n     * Filter Website to display link\r\n     */\r\n\r\n    angular.module('app').filter('website', website);\r\n\r\n    function website() {\r\n\r\n        return function(input) {\r\n            var link = \"<a href=\" + input + \">\" + input + \"</a>\";\r\n            return link;\r\n        };\r\n    }\r\n\r\n    //Filtre selon le sexe\r\n    angular.module('app').filter('triSexe', function(){\r\n        return function(sexeFilter, sexeOption){\r\n          var el = [];\r\n          sexeFilter.forEach(function(a){\r\n            if(sexeOption === true){\r\n              if(a.sexe === true){\r\n                el.push(a);\r\n              }\r\n            }\r\n            else if(sexeOption === false){\r\n              if(a.sexe === false){\r\n                  el.push(a);\r\n              }\r\n            }\r\n            else{\r\n              el = sexeFilter;\r\n            }\r\n          });\r\n\r\n          return el;\r\n        };\r\n    });\r\n\r\n    //Filtre selon un mot ou une phrase\r\n    angular.module('app').filter('searchText', function(){\r\n        return function(textFilter, textOption){\r\n          var el = [];\r\n          textFilter.forEach(function(a){\r\n            if(textOption === null || textOption === undefined || textOption === \"\"){\r\n              el = textFilter;\r\n            }\r\n            else{\r\n\r\n              angular.forEach(a, function(b, c){\r\n                if(typeof b === 'string' && c !== 'resume' && b.indexOf(textOption) > -1 && el.indexOf(a) === -1){\r\n                  el.push(a);\r\n                }\r\n              });\r\n            }\r\n          });\r\n          return el;\r\n        };\r\n    });\r\n\r\n     /**\r\n      *\r\n      * Filter Age Month\r\n      */\r\n\r\n     angular.module('app').filter('month', function(){\r\n\r\n         return function(input) {\r\n            var el;\r\n            var now = new Date();\r\n            now = now.getMonth();\r\n            var userMonth = input.split('/');\r\n            userMonth = parseInt(userMonth[1]);\r\n\r\n            if (now+1 === userMonth) {\r\n               el = true;\r\n               return el;\r\n            }\r\n         };\r\n     });\r\n\r\n     /**\r\n      *\r\n      * Filter Age Max\r\n      */\r\n     angular.module('app').filter('ageMax', function(){\r\n\r\n         return function(array, ageSup) {\r\n            var el = [];\r\n\r\n              array.forEach(function(a){\r\n\r\n                var age = moment().diff(moment(a.naissance, 'DD-MM-YYYY'), 'years');\r\n                if(age >= ageSup ){\r\n                  el.push(a);\r\n                }\r\n              });\r\n              return el;\r\n         };\r\n     });\r\n\r\n\r\n\r\n\r\n\r\n}());\r\n","/**\r\n * Filter\r\n */\r\n(function() {\r\n\r\n    \"use strict\";\r\n\r\n    angular.module('app').directive(\"map\", map);\r\n\r\n\r\n    function map() {\r\n\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            scope: { users: '=users', coords: '=coords' },\r\n            template: '<div id=\"map\"></div>',\r\n            link: function(scope, element, attrs) {\r\n              scope.$watch(\"users\", function(newValue, oldValue) {\r\n                  //console.log(newValue, oldValue);\r\n\r\n                  var map = new google.maps.Map(document.getElementById('map'), {\r\n                      center: scope.coords, //init\r\n                      zoom: 14,\r\n                      styles: [{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"color\":\"#ffffff\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":13}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#eeeeee\"},{\"lightness\":14},{\"weight\":1.4}]},{\"featureType\":\"landscape\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#08304b\"}]},{\"featureType\":\"poi\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#0c4152\"},{\"lightness\":5}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#0b434f\"},{\"lightness\":25}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#0b3d51\"},{\"lightness\":16}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"}]},{\"featureType\":\"transit\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#aafff\"}]},{\"featureType\":\"water\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#021019\"}]},{\"featureType\":\"transit\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#146474\"}]},{\"featureType\":\"transit.station.airport\",\"elementType\":\"labels.text.fill\",\"stylers\": [{\"color\":\"#040404\"}]},{\"featureType\":\"transit.station.airport\",\"elementType\": \"labels.text.stroke\",\"stylers\": [{\"visibility\": \"on\"},{\"color\":\"#fefefe\"}]},]});\r\n\r\n                var lat = \t49.00749937;\r\n                var long = \t2.54836031;\r\n                newValue.forEach(function(element) {\r\n\r\n                    var contentString = '<div id=\"content\">' +\r\n                        element.pseudo+ \" - \" + element.activite +\r\n                        '</div>';\r\n\r\n                    var infowindow = new google.maps.InfoWindow({\r\n                        content: contentString\r\n                    });\r\n\r\n\r\n                    lat++; //exemple\r\n                    long++;\r\n\r\n                    var marker = new google.maps.Marker({\r\n                        position: { lat: parseFloat(element.coord.lat), lng: parseFloat(element.coord.long) },\r\n                        map: map,\r\n                        title: element.pseudo\r\n                    });\r\n\r\n                    marker.addListener('click', function() {\r\n                        infowindow.open(map, marker);\r\n                    });\r\n\r\n                    // To add the marker to the map, call setMap();\r\n                    marker.setMap(map);\r\n                });\r\n\r\n\r\n\r\n              }, true);\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n}());\r\n","/**\r\n * Another Contact Controller\r\n */\r\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular.module('app').controller('contactCtrl',  contactCtrl);\r\n\r\n      contactCtrl.$inject = ['$window','UserFcty' ];\r\n\r\n      function contactCtrl($window, UserFcty) {\r\n\r\n\r\n        var vm = this;\r\n        vm.title = \"Page d'ajout de personnage\";\r\n        vm.checkSaison={};\r\n        vm.ajout = ajout;\r\n\r\n\r\n\r\n        // function to submit the form after all validation has occurred\r\n        function ajout(isValid) {\r\n\r\n            // check to make sure the form is completely valid\r\n            if (isValid) {\r\n\r\n              vm.newCharacter={};\r\n              vm.saison=[];\r\n\r\n              //Get the different seasons from checkbox\r\n              angular.forEach(vm.checkSaison, function(value, key){\r\n                if(value){\r\n                  key=parseInt(key.replace(/saison/g,\"\"));\r\n                  vm.saison.push(key);\r\n                }\r\n                if(vm.saison.length===0){\r\n                  vm.saison = [null];\r\n                }\r\n              });\r\n\r\n              if(vm.sexe === null){\r\n                vm.sexe = false;\r\n              }\r\n\r\n              vm.naissance = moment(vm.naissance).format('DD/MM/YYYY');\r\n              // Create new Character\r\n              vm.newCharacter={\r\n                \"id\": 0,\r\n                \"pseudo\": vm.pseudo,\r\n                \"sexe\": vm.sexe,\r\n                \"photo\":  vm.photo,\r\n                \"activite\": vm.activite,\r\n                \"naissance\": vm.naissance,\r\n                \"coord\": {\r\n                  \"lat\": vm.coord.lat,\r\n                  \"long\": vm.coord.lng,\r\n                },\r\n                \"pays\": vm.pays,\r\n                \"resume\": vm.resume,\r\n                \"saisons\": vm.saison\r\n              };\r\n\r\n\r\n\r\n              UserFcty.add(vm.newCharacter).then(function(){\r\n                // restore values\r\n                vm.pseudo=\"\";\r\n                vm.sexe=null;\r\n                vm.photo=\"\";\r\n                vm.activite=\"\";\r\n                vm.naissance=null;\r\n                vm.coord={};\r\n                vm.pays=\"\";\r\n                vm.resume=\"\";\r\n                vm.saison=[];\r\n              });\r\n            }\r\n            else{\r\n              console.log(\"invalid\");\r\n            }\r\n\r\n\r\n            Materialize.toast(\"le personnage a été ajouté à la liste des personnages\", 4000);\r\n\r\n        }//END SUBMIT FUNCTION\r\n\r\n\r\n    }//END CONTROLLER\r\n\r\n}());\r\n","/**\r\n * First Controller\r\n */\r\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular.module('app').controller('mainCtrl', mainCtrl);\r\n\r\n    /**\r\n     * Include a Factory: Best Practise\r\n     * Factory Resolving by Routing.\r\n     * Cela signifie que la Factory est chargé avant que la page se charge\r\n     */\r\n\r\n    function mainCtrl(users, $scope, $filter, dataService, UserFcty) {\r\n\r\n\r\n        var vm = this;\r\n        vm.title = \"Hello Angular by StyleGuide\";\r\n        vm.sexeOption = null;\r\n\r\n        vm.users = users;\r\n        vm.dataService = dataService;\r\n\r\n        vm.myDate = new Date();\r\n\r\n        vm.minDate = new Date(\r\n            vm.myDate.getFullYear(),\r\n            vm.myDate.getMonth() - 2,\r\n            vm.myDate.getDate());\r\n\r\n        vm.maxDate = new Date(\r\n            vm.myDate.getFullYear(),\r\n            vm.myDate.getMonth() + 2,\r\n            vm.myDate.getDate());\r\n\r\n        vm.age = function(input){\r\n          return moment().diff(moment(input, 'DD-MM-YYYY'), 'years');\r\n        };\r\n\r\n        // vm.onlyWeekendsPredicate = function(date) {\r\n        //     var day = date.getDay();\r\n        //     return day === 0 || day === 6;\r\n        //   };\r\n\r\n\r\n          vm.ageRange = 10;\r\n\r\n        //\r\n        // if( vm.dataService.user.length>0 ){\r\n        //   vm.users.push(vm.dataService.user);\r\n        // }\r\n        angular.forEach(vm.dataService.users, function(value, key){\r\n          value.id=(vm.users.length + 1);\r\n          vm.users.push(value);\r\n        });\r\n\r\n\r\n        vm.date = new Date();\r\n        vm.date = vm.date.getMonth();\r\n\r\n        vm.deleteUser = function(id){\r\n          Materialize.toast(vm.users[id].pseudo + \" s'est fait bouffé par un zombie\", 4000);\r\n          UserFcty.remove(id+1).then(function() {\r\n              vm.users.splice(id,1);\r\n          });\r\n        };\r\n\r\n\r\n}\r\n\r\n}());\r\n"]}